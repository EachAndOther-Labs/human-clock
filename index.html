<html>
<head>
<link href="styles.css" rel="stylesheet" type="text/css" media="screen" />
</head>
<body>

	<div id="clock"></div>

<script src="/socket.io/socket.io.js"></script>

<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

<script>
//  var socket = io.connect('http://localhost:5000');

  var socket = io.connect('http://human-clock.herokuapp.com');
  console.log("socket.io listening");
  var maxImages = 30;
  
  socket.on('instagram', function (data) {
 	console.log("receiving socket data");

 	if ($('#clock img[data-id=' + data.id + "]").length === 0) {
 		var totalImages = $('.flip').length;
 		var imageHTML = '<div class="flip"><img src="' + data.image + '" data-id="' + data.id + '" /></div>';
 		$('#clock').prepend(imageHTML);
 		if (totalImages > maxImages) {
 			$("img:gt(" + maxImages + ")").remove();
  		}
 	} else {
 		console.log("ignore, duplicate.")
 	}
  });
</script>

</body>
</html>